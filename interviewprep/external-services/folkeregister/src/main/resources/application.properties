# Folkeregister API Configuration
# Norwegian Population Registry External Service
#
# This service intentionally uses different configurations to create
# integration complexity that developers must handle
#======================================================================

# Server Configuration - Different port from main service
server.port=8091
server.servlet.context-path=/
server.error.include-message=always

# Application Identity
spring.application.name=folkeregister-api

# Database Configuration - Separate H2 instance
spring.datasource.url=jdbc:h2:mem:folkeregister;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=folkeregister_user
spring.datasource.password=folkeregister_pass

# JPA Configuration
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# XML Response Configuration 
# Forces integration layer to handle XML-to-JSON transformation
spring.http.converters.preferred-json-mapper=jackson
jackson.xml.default-use-wrapper=false

# Norwegian Locale Settings - Creates locale-specific challenges
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true
spring.web.locale=no_NO
spring.web.locale-resolver=fixed

# Actuator Configuration - Different base path to create mapping complexity
management.endpoints.web.base-path=/actuator
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# Logging Configuration - Norwegian log messages
logging.level.no.nav.folkeregister=INFO
logging.level.org.springframework.web=WARN
logging.pattern.console=%d{HH:mm:ss} [FOLKEREGISTER] %-5level %logger{36} - %msg%n

# Service-specific Configuration
folkeregister.service.name=Det sentrale folkeregisteret
folkeregister.service.version=2.1.3
folkeregister.service.description=Norwegian Central Population Registry API

# Legacy System Simulation - Adds realistic delays and limitations
folkeregister.legacy.processing-delay-min=200
folkeregister.legacy.processing-delay-max=500
folkeregister.legacy.max-requests-per-minute=100
folkeregister.legacy.requires-special-headers=true