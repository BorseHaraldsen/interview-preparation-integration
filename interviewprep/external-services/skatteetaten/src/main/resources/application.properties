# Skatteetaten API Configuration
# Norwegian Tax Authority External Service
#
# This service simulates legacy mainframe systems with fixed-width responses
# Creating realistic integration challenges for parsing structured text data
#======================================================================

# Server Configuration
server.port=8080
server.servlet.context-path=/
server.error.include-message=always

# Application Identity
spring.application.name=skatteetaten-api

# Database Configuration - Not used for this text-based service
# but kept for consistency with other microservices
spring.datasource.url=jdbc:h2:mem:skatt;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=skatt_user
spring.datasource.password=skatt_pass

# JPA Configuration - Minimal since we're returning text data
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false

# Norwegian Locale for Currency and Date Formatting
# This creates locale-specific formatting challenges
server.servlet.encoding.charset=ISO-8859-1
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true
spring.web.locale=no_NO
spring.web.locale-resolver=fixed

# Content Type Configuration - Fixed-width text responses
spring.http.converters.preferred-json-mapper=none
spring.mvc.contentnegotiation.media-types.txt=text/plain

# Actuator Configuration
management.endpoints.web.base-path=/actuator
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# Logging Configuration
logging.level.no.nav.skatteetaten=INFO
logging.level.org.springframework.web=WARN
logging.pattern.console=%d{HH:mm:ss} [SKATTEETATEN] %-5level %logger{36} - %msg%n

# Service-specific Configuration
skatteetaten.service.name=Skatteetaten Legacy API
skatteetaten.service.version=1.2.5
skatteetaten.service.description=Norwegian Tax Authority Fixed-Width Data Service

# Legacy Mainframe Simulation Settings
skatteetaten.legacy.record-length=200
skatteetaten.legacy.processing-delay-min=500
skatteetaten.legacy.processing-delay-max=1500
skatteetaten.legacy.charset=ISO-8859-1
skatteetaten.legacy.currency-format=norwegian
skatteetaten.legacy.date-format=dd.MM.yyyy

# Tax Calculation Settings
skatteetaten.tax.hovedjobb-rate=0.28
skatteetaten.tax.bijobb-rate=0.35
skatteetaten.tax.minimum-income=50000
skatteetaten.tax.maximum-income=2000000